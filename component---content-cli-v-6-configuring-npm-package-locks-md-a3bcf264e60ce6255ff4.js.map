{"version":3,"sources":["webpack:///./content/cli/v6/configuring-npm/package-locks.md","webpack:///./node_modules/gatsby-theme-doctornpm/src/components/prompt.js","webpack:///./node_modules/gatsby-theme-doctornpm/src/components/prompt-reply.js","webpack:///./node_modules/gatsby-theme-doctornpm/src/components/table-of-contents.js","webpack:///./node_modules/gatsby-theme-doctornpm/src/components/variant-select.js","webpack:///./node_modules/gatsby-theme-doctornpm/src/components/layout.js"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent","Prompt","children","as","mt","mb","p","border","style","color","backgroundColor","overflow","fontFamily","fontSize","PromptReply","listStyle","TableOfContents","items","depth","key","m","map","item","url","pl","title","display","py","href","defaultProps","VariantSelect","path","NavHierarchy","getPath","location","pathname","vp","getVariantAndPage","root","variantPages","getVariantsForPage","page","selectedItem","length","forEach","match","push","Item","onClick","window","variant","overlay","Button","Menu","direction","width","menuWidth","styled","Dropdown","zIndex","alignItems","alignSelf","gridArea","Layout","pageContext","frontmatter","description","status","source","additionalContributors","variantRoot","getVariantRoot","Index","Note","Screenshot","flexDirection","minHeight","flex","id","maxWidth","gridTemplateColumns","gridTemplateAreas","gridColumnGap","gridRowGap","mx","borderWidth","borderBottomWidth","borderRadius","pb","tableOfContents","position","top","HEADER_HEIGHT","maxHeight","fontWeight","open","icon","ChevronDownIcon","mr","ChevronRightIcon","pt","editUrl","contributors","concat","login"],"mappings":"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","file":"component---content-cli-v-6-configuring-npm-package-locks-md-a3bcf264e60ce6255ff4.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/documentation/documentation/node_modules/gatsby-theme-doctornpm/src/components/layout.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h3>{`Description`}</h3>\n    <p>{`Conceptually, the \"input\" to `}<a parentName=\"p\" {...{\n        \"href\": \"/cli/v6/commands/npm-install\"\n      }}><inlineCode parentName=\"a\">{`npm install`}</inlineCode></a>{` is a `}<a parentName=\"p\" {...{\n        \"href\": \"/cli/v6/configuring-npm/package-json\"\n      }}>{`package.json`}</a>{`, while its\n\"output\" is a fully-formed `}<inlineCode parentName=\"p\">{`node_modules`}</inlineCode>{` tree: a representation of the\ndependencies you declared. In an ideal world, npm would work like a pure\nfunction: the same `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` should produce the exact same `}<inlineCode parentName=\"p\">{`node_modules`}</inlineCode>{`\ntree, any time. In some cases, this is indeed true. But in many others, npm is\nunable to do this. There are multiple reasons for this:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`different versions of npm (or other package managers) may have been used to install a package, each using slightly different installation algorithms.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`a new version of a direct semver-range package may have been published since the last time your packages were installed, and thus a newer version will be used.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`A dependency of one of your dependencies may have published a new version, which will update even if you used pinned dependency specifiers (`}<inlineCode parentName=\"p\">{`1.2.3`}</inlineCode>{` instead of `}<inlineCode parentName=\"p\">{`^1.2.3`}</inlineCode>{`)`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The registry you installed from is no longer available, or allows mutation of versions (unlike the primary npm registry), and a different version of a package exists under the same version number now.`}</p>\n      </li>\n    </ul>\n    <p>{`As an example, consider package A:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"name\": \"A\",\n  \"version\": \"0.1.0\",\n  \"dependencies\": {\n    \"B\": \"<0.1.0\"\n  }\n}\n`}</code></pre>\n    <p>{`package B:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"name\": \"B\",\n  \"version\": \"0.0.1\",\n  \"dependencies\": {\n    \"C\": \"<0.1.0\"\n  }\n}\n`}</code></pre>\n    <p>{`and package C:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"name\": \"C\",\n  \"version\": \"0.0.1\"\n}\n`}</code></pre>\n    <p>{`If these are the only versions of A, B, and C available in the\nregistry, then a normal `}<inlineCode parentName=\"p\">{`npm install A`}</inlineCode>{` will install:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`A@0.1.0\n\\`-- B@0.0.1\n    \\`-- C@0.0.1\n`}</code></pre>\n    <p>{`However, if `}<a parentName=\"p\" {...{\n        \"href\": \"mailto:B@0.0.2\"\n      }}>{`B@0.0.2`}</a>{` is published, then a fresh `}<inlineCode parentName=\"p\">{`npm install A`}</inlineCode>{` will\ninstall:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`A@0.1.0\n\\`-- B@0.0.2\n    \\`-- C@0.0.1\n`}</code></pre>\n    <p>{`assuming the new version did not modify B's dependencies. Of course,\nthe new version of B could include a new version of C and any number\nof new dependencies. If such changes are undesirable, the author of A\ncould specify a dependency on `}<a parentName=\"p\" {...{\n        \"href\": \"mailto:B@0.0.1.\"\n      }}>{`B@0.0.1.`}</a>{` However, if A's author and B's\nauthor are not the same person, there's no way for A's author to say\nthat he or she does not want to pull in newly published versions of C\nwhen B hasn't changed at all.`}</p>\n    <p>{`To prevent this potential issue, npm uses `}<a parentName=\"p\" {...{\n        \"href\": \"/cli/v6/configuring-npm/package-lock-json\"\n      }}>{`package-lock.json`}</a>{` or, if present, `}<a parentName=\"p\" {...{\n        \"href\": \"/cli/v6/configuring-npm/shrinkwrap-json\"\n      }}>{`npm-shrinkwrap.json`}</a>{`. These files are called package locks, or lockfiles.`}</p>\n    <p>{`Whenever you run `}<inlineCode parentName=\"p\">{`npm install`}</inlineCode>{`, npm generates or updates your package lock,\nwhich will look something like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"name\": \"A\",\n  \"version\": \"0.1.0\",\n  ...metadata fields...\n  \"dependencies\": {\n    \"B\": {\n      \"version\": \"0.0.1\",\n      \"resolved\": \"https://registry.npmjs.org/B/-/B-0.0.1.tgz\",\n      \"integrity\": \"sha512-DeAdb33F+\"\n      \"dependencies\": {\n        \"C\": {\n          \"version\": \"git://github.com/org/C.git#5c380ae319fc4efe9e7f2d9c78b0faa588fd99b4\"\n        }\n      }\n    }\n  }\n}\n`}</code></pre>\n    <p>{`This file describes an `}<em parentName=\"p\">{`exact`}</em>{`, and more importantly `}<em parentName=\"p\">{`reproducible`}</em>{`\n`}<inlineCode parentName=\"p\">{`node_modules`}</inlineCode>{` tree. Once it's present, any future installation will base its\nwork off this file, instead of recalculating dependency versions off\n`}<a parentName=\"p\" {...{\n        \"href\": \"/cli/v6/configuring-npm/package-json\"\n      }}>{`package.json`}</a>{`.`}</p>\n    <p>{`The presence of a package lock changes the installation behavior such that:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The module tree described by the package lock is reproduced. This means\nreproducing the structure described in the file, using the specific files\nreferenced in \"resolved\" if available, falling back to normal package resolution\nusing \"version\" if one isn't.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The tree is walked and any missing dependencies are installed in the usual\nfashion.`}</p>\n      </li>\n    </ol>\n    <p>{`If `}<inlineCode parentName=\"p\">{`preshrinkwrap`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`shrinkwrap`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`postshrinkwrap`}</inlineCode>{` are in the `}<inlineCode parentName=\"p\">{`scripts`}</inlineCode>{`\nproperty of the `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{`, they will be executed in order. `}<inlineCode parentName=\"p\">{`preshrinkwrap`}</inlineCode>{`\nand `}<inlineCode parentName=\"p\">{`shrinkwrap`}</inlineCode>{` are executed before the shrinkwrap, `}<inlineCode parentName=\"p\">{`postshrinkwrap`}</inlineCode>{` is\nexecuted afterwards. These scripts run for both `}<inlineCode parentName=\"p\">{`package-lock.json`}</inlineCode>{` and\n`}<inlineCode parentName=\"p\">{`npm-shrinkwrap.json`}</inlineCode>{`. For example to run some postprocessing on the generated\nfile:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`  \"scripts\": {\n    \"postshrinkwrap\": \"json -I -e \\\\\"this.myMetadata = $MY_APP_METADATA\\\\\"\"\n  }\n`}</code></pre>\n    <h4>{`Using locked packages`}</h4>\n    <p>{`Using a locked package is no different than using any package without a package\nlock: any commands that update `}<inlineCode parentName=\"p\">{`node_modules`}</inlineCode>{` and/or `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{`'s\ndependencies will automatically sync the existing lockfile. This includes `}<inlineCode parentName=\"p\">{`npm\ninstall`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`npm rm`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`npm update`}</inlineCode>{`, etc. To prevent this update from happening,\nyou can use the `}<inlineCode parentName=\"p\">{`--no-save`}</inlineCode>{` option to prevent saving altogether, or\n`}<inlineCode parentName=\"p\">{`--no-shrinkwrap`}</inlineCode>{` to allow `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` to be updated while leaving\n`}<inlineCode parentName=\"p\">{`package-lock.json`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`npm-shrinkwrap.json`}</inlineCode>{` intact.`}</p>\n    <p>{`It is highly recommended you commit the generated package lock to source\ncontrol: this will allow anyone else on your team, your deployments, your\nCI/continuous integration, and anyone else who runs `}<inlineCode parentName=\"p\">{`npm install`}</inlineCode>{` in your\npackage source to get the exact same dependency tree that you were developing\non. Additionally, the diffs from these changes are human-readable and will\ninform you of any changes npm has made to your `}<inlineCode parentName=\"p\">{`node_modules`}</inlineCode>{`, so you can notice\nif any transitive dependencies were updated, hoisted, etc.`}</p>\n    <h4>{`Resolving lockfile conflicts`}</h4>\n    <p>{`Occasionally, two separate npm install will create package locks that cause\nmerge conflicts in source control systems. As of `}<inlineCode parentName=\"p\">{`npm@5.7.0`}</inlineCode>{`, these conflicts\ncan be resolved by manually fixing any `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` conflicts, and then\nrunning `}<inlineCode parentName=\"p\">{`npm install [--package-lock-only]`}</inlineCode>{` again. npm will automatically\nresolve any conflicts for you and write a merged package lock that includes all\nthe dependencies from both branches in a reasonable tree. If\n`}<inlineCode parentName=\"p\">{`--package-lock-only`}</inlineCode>{` is provided, it will do this without also modifying your\nlocal `}<inlineCode parentName=\"p\">{`node_modules/`}</inlineCode>{`.`}</p>\n    <p>{`To make this process seamless on git, consider installing\n`}<a parentName=\"p\" {...{\n        \"href\": \"https://npm.im/npm-merge-driver\"\n      }}><inlineCode parentName=\"a\">{`npm-merge-driver`}</inlineCode></a>{`, which will teach git how\nto do this itself without any user interaction. In short: `}<inlineCode parentName=\"p\">{`$ npx\nnpm-merge-driver install -g`}</inlineCode>{` will let you do this, and even works with\npre-`}<inlineCode parentName=\"p\">{`npm@5.7.0`}</inlineCode>{` versions of npm 5, albeit a bit more noisily. Note that if\n`}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` itself conflicts, you will have to resolve that by hand and run\n`}<inlineCode parentName=\"p\">{`npm install`}</inlineCode>{` manually, even with the merge driver.`}</p>\n    <h3>{`See Also`}</h3>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://medium.com/@sdboyer/so-you-want-to-write-a-package-manager-4ae9c17d9527\"\n        }}>{`https://medium.com/@sdboyer/so-you-want-to-write-a-package-manager-4ae9c17d9527`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/cli/v6/configuring-npm/package-json\"\n        }}>{`package.json`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/cli/v6/configuring-npm/package-lock-json\"\n        }}>{`package-lock.json`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/cli/v6/configuring-npm/shrinkwrap-json\"\n        }}>{`shrinkwrap.json`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/cli/v6/commands/npm-shrinkwrap\"\n        }}>{`npm shrinkwrap`}</a></li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import React from 'react'\nimport {BorderBox, Text} from '@primer/components'\n\nfunction Prompt({children}) {\n  return (\n      <BorderBox\n       as=\"pre\"\n       mt={0}\n       mb={3}\n       p={3}\n       border={0}\n       style={{color: 'rgb(57, 58, 52)', backgroundColor: 'rgb(246, 248, 250)', overflow: 'auto'}}\n      >\n          <Text fontFamily=\"mono\" fontSize={1}>{children}</Text>\n      </BorderBox>\n  )\n}\n\nexport default Prompt\n","import React from 'react';\n\nfunction PromptReply({children}) {\n    return (<strong>{children}</strong>);\n}\n\nexport default PromptReply;\n","import {Box, Link} from '@primer/components'\nimport React from 'react'\n\nfunction TableOfContents({items, depth}) {\n  return (\n    <Box key={items} as=\"ul\" m={0} p={0} css={{listStyle: 'none'}}>\n      {items.map(item => (\n        <Box as=\"li\" key={item.url} pl={depth > 0 ? 3 : 0}>\n          <Link key={item.title} display=\"inline-block\" py={1} href={item.url} color=\"gray.6\">\n            {item.title}\n          </Link>\n          {item.items ? (\n            <TableOfContents items={item.items} depth={depth + 1} />\n          ) : null}\n        </Box>\n      ))}\n    </Box>\n  )\n}\n\nTableOfContents.defaultProps = {\n  depth: 0,\n}\n\nexport default TableOfContents\n","// VariantSelect: allows a variant to be set up within a document hierarchy\n//\n// For example, given two paths `/docs/v1.0/foo` and `/docs/v2.0/foo`, the\n// second folder acts as a variant.  If you use <VariantSelect root=\"/docs\">\n// then you'll get a selection for the different variants (v1.0, v2.0).\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { Dropdown } from '@primer/components';\nimport NavHierarchy from '../nav-hierarchy'\n\nVariantSelect.Menu = styled(Dropdown.Menu)`\n  width: ${props => props.width ? props.width : '160px'};\n`\n\nfunction VariantSelect(props) {\n  const path = NavHierarchy.getPath(props.location.pathname);\n  const vp = NavHierarchy.getVariantAndPage(props.root, path);\n\n  if (!vp) {\n      return null;\n  }\n\n  const variantPages = NavHierarchy.getVariantsForPage(props.root, vp.page);\n  const items = [];\n  let selectedItem = variantPages[0];\n\n  if (variantPages.length === 0) {\n      return null;\n  }\n\n  variantPages.forEach((match) => {\n      if (match.page.url === path) {\n          selectedItem = match;\n      }\n\n      items.push(<Dropdown.Item onClick={() => { window.location.href = match.page.url; }} key={match.variant.title}>{match.variant.title}</Dropdown.Item>);\n  });\n\n  return (\n      <Dropdown overlay={props.overlay}>\n          <Dropdown.Button>{selectedItem.variant.title}</Dropdown.Button>\n          <VariantSelect.Menu direction={props.direction} width={props.menuWidth}>\n              {items}\n          </VariantSelect.Menu>\n      </Dropdown>\n  );\n}\n\nexport default VariantSelect\n","import {\n  BorderBox,\n  Box,\n  Details,\n  Flex,\n  Grid,\n  Heading,\n  Position,\n  StyledOcticon,\n  Text,\n} from '@primer/components'\nimport {ChevronDownIcon, ChevronRightIcon} from '@primer/octicons-react'\nimport React from 'react'\nimport {MDXProvider} from \"@mdx-js/react\"\nimport Head from './head'\nimport Header, {HEADER_HEIGHT} from './header'\nimport Index from './index'\nimport Note from './note'\nimport PageFooter from './page-footer'\nimport Prompt from './prompt'\nimport PromptReply from './prompt-reply'\nimport Screenshot from './screenshot'\nimport Sidebar from './sidebar'\nimport SourceLink from './source-link'\nimport StatusLabel from './status-label'\nimport TableOfContents from './table-of-contents'\nimport VariantSelect from './variant-select'\nimport NavHierarchy from '../nav-hierarchy'\n\nfunction Layout({children, pageContext, location}) {\n  const {\n    title,\n    description,\n    status,\n    source,\n    additionalContributors = [],\n  } = pageContext.frontmatter\n\n  const variantRoot = NavHierarchy.getVariantRoot(location.pathname);\n\n  return (\n    <MDXProvider components={{\n      Index,\n      Note,\n      Prompt,\n      PromptReply,\n      Screenshot\n    }}>\n\n      <Flex flexDirection=\"column\" minHeight=\"100vh\">\n        <Head title={title} description={description} />\n        <Header location={location} />\n        <Flex flex=\"1 1 auto\" flexDirection=\"row\" css={{zIndex: 0}}>\n          <Box display={['none', null, null, 'block']}>\n            <Sidebar location={location} />\n          </Box>\n          <Grid\n            id=\"skip-nav\"\n            maxWidth=\"100%\"\n            gridTemplateColumns={['100%', null, 'minmax(0, 65ch) 220px']}\n            gridTemplateAreas={[\n              '\"heading\" \"content\"',\n              null,\n              '\"heading table-of-contents\" \"content table-of-contents\"',\n            ]}\n            gridColumnGap={[null, null, 6, 7]}\n            gridRowGap={3}\n            mx=\"auto\"\n            p={[5, 6, null, 7]}\n            css={{alignItems: 'start', alignSelf: 'start'}}\n          >\n            <Box css={{gridArea: 'heading'}}>\n              <BorderBox\n                borderWidth={0}\n                borderBottomWidth={1}\n                borderRadius={0}\n                pb={2}\n              >\n                <Box>\n                  <Box>\n                    <Heading as=\"h1\">{title}</Heading>\n                    {description}\n                  </Box>\n                </Box>\n              </BorderBox>\n              {variantRoot != null ? (\n                <Box css={{'margin-top': '25px'}}>\n                  <VariantSelect overlay={true} direction=\"se\" menuWidth=\"min(30ch, 500px)\" root={variantRoot} location={location} />\n                </Box>\n              ) : null}\n            </Box>\n            {pageContext.tableOfContents.items ? (\n              <Position\n                display={['none', null, 'block']}\n                css={{gridArea: 'table-of-contents', overflow: 'auto'}}\n                position=\"sticky\"\n                top={HEADER_HEIGHT + 24}\n                mt=\"6px\"\n                maxHeight={`calc(100vh - ${HEADER_HEIGHT}px - 24px)`}\n              >\n                <Text display=\"inline-block\" fontWeight=\"bold\" mb={1}>\n                  Table of contents\n                </Text>\n                <TableOfContents items={pageContext.tableOfContents.items} />\n              </Position>\n            ) : null}\n            <Box css={{gridArea: 'content'}}>\n              {status || source ? (\n                <Flex mb={3} alignItems=\"center\">\n                  {status ? <StatusLabel status={status} /> : null}\n                  <Box mx=\"auto\" />\n                  {source ? <SourceLink href={source} /> : null}\n                </Flex>\n              ) : null}\n              {pageContext.tableOfContents.items ? (\n                <Box display={['block', null, 'none']} mb={3}>\n                  <Details>\n                    {({open}) => (\n                      <>\n                        <Text as=\"summary\" fontWeight=\"bold\">\n                          {open ? (\n                            <StyledOcticon icon={ChevronDownIcon} mr={2} />\n                          ) : (\n                            <StyledOcticon icon={ChevronRightIcon} mr={2} />\n                          )}\n                          Table of contents\n                        </Text>\n                        <Box pt={1}>\n                          <TableOfContents\n                            items={pageContext.tableOfContents.items}\n                          />\n                        </Box>\n                      </>\n                    )}\n                  </Details>\n                </Box>\n              ) : null}\n              {children}\n              <PageFooter\n                editUrl={pageContext.editUrl}\n                contributors={pageContext.contributors.concat(\n                  additionalContributors.map((login) => ({login})),\n                )}\n              />\n            </Box>\n          </Grid>\n        </Flex>\n      </Flex>\n    </MDXProvider>\n  )\n}\n\nexport default Layout\n"],"sourceRoot":""}